angular.module('app', [
  'ngRoute',
  'hello',
  'world',
  'app.filters',
  'friends'
]);
angular.module('app').factory('FriendService', [
  '$http',
  function ($http) {
    return {
      getFriends: function () {
        return [
          '1',
          '2',
          '3',
          'Golu',
          'Sandu',
          'Nicky',
          'Karan'
        ];
      },
      sayHello: function () {
        alert('Hello');
      }
    };
  }
]);
angular.module('friends', []).config([
  '$routeProvider',
  '$locationProvider',
  function ($routeProvider, $locationProvider) {
    $locationProvider.hashPrefix('!');
    $routeProvider.when('/friend', {
      templateUrl: 'friend/friend.tpl',
      controller: 'FriendCtrl'
    }).otherwise({ redirectTo: '/friend' });
  }
]).controller('FriendCtrl', [
  '$scope',
  'FriendService',
  function ($scope, FriendService) {
    $scope.newFriend = '';
    $scope.friends = FriendService.getFriends();
    $scope.addFriend = function () {
      $scope.friends.push($scope.newFriend);
      $scope.newFriend = '';
    };
    $scope.removeFriend = function (index) {
      $scope.friends.splice(index, 1);
    };
  }
]);
angular.module('hello', []).config([
  '$routeProvider',
  '$locationProvider',
  function ($routeProvider, $locationProvider) {
    $locationProvider.hashPrefix('!');
    $routeProvider.when('/hello', {
      templateUrl: 'hello/hello.tpl',
      controller: 'HelloCtrl'
    });
  }
]).controller('HelloCtrl', [
  '$scope',
  function ($scope) {
    $scope.content = 'Karan';
    $scope.callAlertButtonClick = function () {
      alert('Chhutti');
    };
  }
]);
angular.module('app.filters', []).filter('reverse', function () {
  return function (sandeep) {
    sandeep = sandeep || '';
    var out = '';
    for (var i = 0; i < sandeep.length; i++) {
      out = sandeep.charAt(i) + out;
    }
    return out;
  };
}).filter('star', function () {
  return function (input) {
    input = input || '';
    var out = '';
    for (var i = 0; i < input.length; i++) {
      var character = input.charAt(i);
      if (character === ' ') {
        character = '*';
      }
      out = out + character;
    }
    return out;
  };
});
angular.module('world', []).config([
  '$routeProvider',
  '$locationProvider',
  function ($routeProvider, $locationProvider) {
    $locationProvider.hashPrefix('!');
    $routeProvider.when('/world', {
      templateUrl: 'world/world.tpl',
      controller: 'WorldCtrl'
    });
  }
]).controller('WorldCtrl', [
  '$scope',
  function ($scope) {
    $scope.content = 'Akshay';
  }
]);